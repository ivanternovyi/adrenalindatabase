<tr class=<%= "#{cycle('even', 'odd')}" %>>
  <td>
    <% revised = user.not_revised ? 'not-revised' : 'revised' %>
    <span class=<%= revised %>></span>
    <% if !user.user_detail.nil? && !user.user_detail.registration_timestamp.nil? %>
      <%= date_to_text(user.user_detail.registration_timestamp) %>
    <% else %>
      &nbsp;
    <% end %>
  </td>
  <td>
    <% if !user.user_detail.nil? %>
      <%= link_to "#{user.user_detail.surname} #{user.user_detail.name} #{user.user_detail.mid_name}", edit_user_path(user, current_page: @current_page) %>
    <% else %>
      &nbsp;
    <% end %>
  </td>
  <td>
    <%= card_number_text(user) || raw('&nbsp;') %>
  </td>
  <td>
    <% if !user.user_detail.nil? %>
      <%= raw '&nbsp;' if user.user_detail.birthday.blank? %>
      <%= l user.user_detail.birthday, format: :default %>
    <% else %>
      &nbsp;
    <% end %>
  </td>
  <td>
    <% if !user.town_office_id.blank? %>
      <%= truncate Town.find(user.town_office_id).name, length: 12 %>
    <% else %>
      &nbsp;
    <% end %>
  </td>
</tr>